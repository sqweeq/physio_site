{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brandon\\\\Documents\\\\projects\\\\physio_site\\\\client\\\\src\\\\components\\\\Register.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { register } from \"../actions/authActions\";\nimport PropTypes from \"prop-types\";\nimport Navigation from \"./Navigation\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nclass Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      msg: null\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        name,\n        email,\n        password\n      } = this.state;\n      const newUser = {\n        name,\n        email,\n        password\n      };\n      this.props.register(newUser, this.props.history);\n      console.log(newUser);\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      if (error && error.id === \"REGISTER_FAIL\") {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n  }\n\n  // email regex\n  validateEmail(email) {\n    const regexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return regexp.test(email);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"overflow-hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navigation, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      className: \"h-25 m-5 pt-5\",\n      to: \"/shop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, \"\\u2190 Return to shop\"), /*#__PURE__*/React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center pt-5 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pb-5 pt-3 px-5 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group pb-2 px-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"pb-1\",\n      htmlFor: \"exampleInputName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"name\",\n      type: \"text\",\n      className: \"form-control pl-2 \" + (this.state.name.length && this.state.name.length >= 6 && \"is-valid\"\n      /*: \"is-invalid\"*/\n      ),\n      placeholder: \"Enter name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"pb-1\",\n      htmlFor: \"exampleInputEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, \"Email Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      className: \"form-control pl-2 \" + (this.validateEmail(this.state.email) === true && \"is-valid\"\n      /*: \"is-invalid\"*/\n      ),\n      placeholder: \"Enter email\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group p-2 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"pb-1\",\n      htmlFor: \"exampleInputPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      className: \"form-control pl-2 \" + (this.state.password.length && this.state.password.length >= 6 && \"is-valid\"\n      /*: \"is-invalid\"*/\n      ),\n      placeholder: \"Enter password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    })), this.state.msg ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pl-2 text-danger text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, this.state.msg) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"py-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      className: \"p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, \"Already a user?\")))));\n  }\n\n}\n\nRegister.propTypes = {\n  error: PropTypes.object,\n  register: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  error: state.error\n});\n\nexport default connect(mapStateToProps, {\n  register\n})(withRouter(Register));","map":{"version":3,"sources":["C:/Users/Brandon/Documents/projects/physio_site/client/src/components/Register.js"],"names":["React","Component","connect","register","PropTypes","Navigation","Link","withRouter","Register","state","name","email","password","msg","handleChange","e","setState","target","value","handleSubmit","preventDefault","newUser","props","history","console","log","componentDidUpdate","prevProps","error","id","validateEmail","regexp","test","render","length","propTypes","object","func","isRequired","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;;AACA,MAAMC,QAAN,SAAuBP,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC/BQ,KAD+B,GACvB;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,KAAK,EAAE,EAFD;AAGNC,MAAAA,QAAQ,EAAE,EAHJ;AAINC,MAAAA,GAAG,EAAE;AAJC,KADuB;;AAAA,SAyB/BC,YAzB+B,GAyBhBC,CAAC,IAAI;AAClB,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASP,IAAV,GAAiBK,CAAC,CAACE,MAAF,CAASC;AADd,OAAd;AAGD,KA7B8B;;AAAA,SA+B/BC,YA/B+B,GA+BhBJ,CAAC,IAAI;AAClBA,MAAAA,CAAC,CAACK,cAAF;AACA,YAAM;AAAEV,QAAAA,IAAF;AAAQC,QAAAA,KAAR;AAAeC,QAAAA;AAAf,UAA4B,KAAKH,KAAvC;AACA,YAAMY,OAAO,GAAG;AACdX,QAAAA,IADc;AAEdC,QAAAA,KAFc;AAGdC,QAAAA;AAHc,OAAhB;AAKA,WAAKU,KAAL,CAAWnB,QAAX,CAAoBkB,OAApB,EAA6B,KAAKC,KAAL,CAAWC,OAAxC;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACD,KA1C8B;AAAA;;AAW/BK,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,UAAM;AAAEC,MAAAA;AAAF,QAAY,KAAKN,KAAvB;;AACA,QAAIM,KAAK,KAAKD,SAAS,CAACC,KAAxB,EAA+B;AAC7B,UAAIA,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAa,eAA1B,EAA2C;AACzC,aAAKb,QAAL,CAAc;AACZH,UAAAA,GAAG,EAAEe,KAAK,CAACf,GAAN,CAAUA;AADH,SAAd;AAGD,OAJD,MAIO;AACL,aAAKG,QAAL,CAAc;AACZH,UAAAA,GAAG,EAAE;AADO,SAAd;AAGD;AACF;AACF;;AAmBD;AACAiB,EAAAA,aAAa,CAACnB,KAAD,EAAQ;AACnB,UAAMoB,MAAM,GAAG,sJAAf;AACA,WAAOA,MAAM,CAACC,IAAP,CAAYrB,KAAZ,CAAP;AACD;;AAEDsB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,eAAhB;AAAgC,MAAA,EAAE,EAAC,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAJF,eAOE;AAAM,MAAA,UAAU,MAAhB;AAAiB,MAAA,QAAQ,EAAE,KAAKd,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAGE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,MAAjB;AAAwB,MAAA,OAAO,EAAC,kBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,SAAS,EACP,wBACC,KAAKV,KAAL,CAAWC,IAAX,CAAgBwB,MAAhB,IACC,KAAKzB,KAAL,CAAWC,IAAX,CAAgBwB,MAAhB,IAA0B,CAD3B,IAEC;AAAW;AAHb,OAJJ;AASE,MAAA,WAAW,EAAC,YATd;AAUE,MAAA,QAAQ,EAAE,KAAKpB,YAVjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,eAqBE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,MAAjB;AAAwB,MAAA,OAAO,EAAC,mBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAIE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,SAAS,EACP,wBACC,KAAKgB,aAAL,CAAmB,KAAKrB,KAAL,CAAWE,KAA9B,MAAyC,IAAzC,IACC;AAAW;AAFb,OAJJ;AAQE,MAAA,WAAW,EAAC,aARd;AASE,MAAA,QAAQ,EAAE,KAAKG,YATjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CArBF,eAsCE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,MAAjB;AAAwB,MAAA,OAAO,EAAC,sBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,SAAS,EACP,wBACC,KAAKL,KAAL,CAAWG,QAAX,CAAoBsB,MAApB,IACC,KAAKzB,KAAL,CAAWG,QAAX,CAAoBsB,MAApB,IAA8B,CAD/B,IAEC;AAAW;AAHb,OAJJ;AASE,MAAA,WAAW,EAAC,gBATd;AAUE,MAAA,QAAQ,EAAE,KAAKpB,YAVjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CAtCF,EA0DG,KAAKL,KAAL,CAAWI,GAAX,gBACC;AAAM,MAAA,SAAS,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKJ,KAAL,CAAWI,GADd,CADD,GAIG,IA9DN,eAgEE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,qBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAhEF,eAqEE;AAAQ,MAAA,SAAS,EAAC,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,QAAT;AAAkB,MAAA,SAAS,EAAC,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CArEF,CAHF,CAPF,CADF;AAyFD;;AA3I8B;;AAA3BL,Q,CAOG2B,S,GAAY;AACjBP,EAAAA,KAAK,EAAExB,SAAS,CAACgC,MADA;AAEjBjC,EAAAA,QAAQ,EAAEC,SAAS,CAACiC,IAAV,CAAeC;AAFR,C;;AAsIrB,MAAMC,eAAe,GAAG9B,KAAK,KAAK;AAChCmB,EAAAA,KAAK,EAAEnB,KAAK,CAACmB;AADmB,CAAL,CAA7B;;AAIA,eAAe1B,OAAO,CAACqC,eAAD,EAAkB;AAAEpC,EAAAA;AAAF,CAAlB,CAAP,CAAuCI,UAAU,CAACC,QAAD,CAAjD,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { register } from \"../actions/authActions\";\r\nimport PropTypes from \"prop-types\";\r\nimport Navigation from \"./Navigation\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nclass Register extends Component {\r\n  state = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    msg: null\r\n  };\r\n  static propTypes = {\r\n    error: PropTypes.object,\r\n    register: PropTypes.func.isRequired\r\n  };\r\n  componentDidUpdate(prevProps) {\r\n    const { error } = this.props;\r\n    if (error !== prevProps.error) {\r\n      if (error && error.id === \"REGISTER_FAIL\") {\r\n        this.setState({\r\n          msg: error.msg.msg\r\n        });\r\n      } else {\r\n        this.setState({\r\n          msg: null\r\n        });\r\n      }\r\n    }\r\n  }\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  // submit register\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { name, email, password } = this.state;\r\n    const newUser = {\r\n      name,\r\n      email,\r\n      password\r\n    };\r\n    this.props.register(newUser, this.props.history);\r\n\r\n    console.log(newUser);\r\n  };\r\n  // email regex\r\n  validateEmail(email) {\r\n    const regexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return regexp.test(email);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"overflow-hidden\">\r\n        <div className=\"mb-5\">\r\n          <Navigation />\r\n        </div>\r\n        <Link className=\"h-25 m-5 pt-5\" to=\"/shop\">\r\n          &#x2190; Return to shop\r\n        </Link>\r\n        <form noValidate onSubmit={this.handleSubmit}>\r\n          <h1 className=\"text-center pt-5 pb-3\">Register</h1>\r\n\r\n          <div className=\"pb-5 pt-3 px-5 mx-auto\">\r\n            <div className=\"form-group pb-2 px-2\">\r\n              <label className=\"pb-1\" htmlFor=\"exampleInputName\">\r\n                Name\r\n              </label>\r\n              <input\r\n                name=\"name\"\r\n                type=\"text\"\r\n                className={\r\n                  \"form-control pl-2 \" +\r\n                  (this.state.name.length &&\r\n                    this.state.name.length >= 6 &&\r\n                    \"is-valid\" /*: \"is-invalid\"*/)\r\n                }\r\n                placeholder=\"Enter name\"\r\n                onChange={this.handleChange}\r\n              />\r\n              {/* <div className=\"invalid-feedback pt-1\">\r\n                Name must be longer than 6 characters\r\n              </div> */}\r\n            </div>\r\n            <div className=\"form-group p-2\">\r\n              <label className=\"pb-1\" htmlFor=\"exampleInputEmail\">\r\n                Email Address\r\n              </label>\r\n              <input\r\n                name=\"email\"\r\n                type=\"email\"\r\n                className={\r\n                  \"form-control pl-2 \" +\r\n                  (this.validateEmail(this.state.email) === true &&\r\n                    \"is-valid\" /*: \"is-invalid\"*/)\r\n                }\r\n                placeholder=\"Enter email\"\r\n                onChange={this.handleChange}\r\n              />\r\n              {/* <div className=\"invalid-feedback pt-1\">Email must be valid</div> */}\r\n            </div>\r\n            <div className=\"form-group p-2 mb-3\">\r\n              <label className=\"pb-1\" htmlFor=\"exampleInputPassword\">\r\n                Password\r\n              </label>\r\n              <input\r\n                name=\"password\"\r\n                type=\"password\"\r\n                className={\r\n                  \"form-control pl-2 \" +\r\n                  (this.state.password.length &&\r\n                    this.state.password.length >= 6 &&\r\n                    \"is-valid\" /*: \"is-invalid\"*/)\r\n                }\r\n                placeholder=\"Enter password\"\r\n                onChange={this.handleChange}\r\n              />\r\n              {/* <div className=\"invalid-feedback pt-1\">\r\n                Password must be longer than 6 characters\r\n              </div> */}\r\n            </div>\r\n            {this.state.msg ? (\r\n              <span className=\"pl-2 text-danger text-center\">\r\n                {this.state.msg}\r\n              </span>\r\n            ) : null}\r\n\r\n            <div className=\"p-2 py-4\">\r\n              <button type=\"submit\" className=\"btn btn-primary p-3\">\r\n                Submit\r\n              </button>\r\n            </div>\r\n            <footer className=\"py-5\">\r\n              <Link to=\"/login\" className=\"p-2\">\r\n                Already a user?\r\n              </Link>\r\n            </footer>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  error: state.error\r\n});\r\n\r\nexport default connect(mapStateToProps, { register })(withRouter(Register));\r\n"]},"metadata":{},"sourceType":"module"}