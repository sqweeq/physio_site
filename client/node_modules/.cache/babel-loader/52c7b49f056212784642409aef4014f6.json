{"ast":null,"code":"import _toConsumableArray from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{deleteItem,addItemToCart,getItems,addItem,addItemToGuestCart,getGuestCartItems}from\"../actions/itemActions\";import shortid from\"shortid\";var ProductList=/*#__PURE__*/function(_Component){_inherits(ProductList,_Component);function ProductList(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProductList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProductList)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={itemToShow:[]};_this.onDeleteItem=function(id){_this.props.deleteItem(id);};_this.onAddToGuestCart=function(item){item.guestItemID=shortid.generate()+String(Math.floor(Math.random()*30));_this.props.addItemToGuestCart(item);_this.props.getGuestCartItems();};_this.onAddToCart=function(item,user){var newItem={name:item.name,description:item.description,category:item.category,price:item.price,userRefID:user._id,productImage:item.productImage};_this.props.addItemToCart(newItem);};return _this;}_createClass(ProductList,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getGuestCartItems();}},{key:\"showAdded\",value:function showAdded(i){var _this2=this;this.setState({itemToShow:[].concat(_toConsumableArray(this.state.itemToShow),[i])},function(){setTimeout(function(){_this2.setState({itemToShow:_this2.state.itemToShow.filter(function(item){return item!==i;})});},3500);});}},{key:\"render\",value:function render(){var _this3=this;var items=this.props.item.items;var user=this.props.auth.user;var isAuthenticated=this.props.auth.isAuthenticated;var filteredItems=items&&items.filter(function(item){return item.userRefID===\"\";});return React.createElement(\"div\",null,React.createElement(\"h2\",{className:\"mt-4 mb-2 text-center\"},\"Shop : \",filteredItems.length,\" Products\"),React.createElement(\"h5\",{className:\"mx-4 my-2 float-left\"},\"Featured \"),React.createElement(\"div\",{className:\"row my-4 mx-auto justify-content-center container-fluid\"},filteredItems&&filteredItems.map(function(item,i){return item.userRefID?null:React.createElement(\"div\",{className:\"card card-group col-3 col-sm-3 col-md-2 col-lg-2 m-2 p-1 d-flex flex-column justify-content-between mh-100\",key:i},React.createElement(\"img\",{className:\"p-3 img-fluid w-100 mx-auto\",src:item.productImage,alt:\"\"}),React.createElement(\"div\",{className:\"text-center pt-2\"},React.createElement(\"h6\",{className:\"mx-auto mb-2\"},item.name),React.createElement(\"p\",{className:\"mx-auto\"},\"$\",item.price)),React.createElement(\"div\",{className:\"text-center container mt-3 mb-4\"},isAuthenticated===true?React.createElement(\"button\",{type:\"button\",className:\"btn p-2 w-75 \"+(_this3.state.itemToShow.includes(i)?\"btn-outline-success\":\"btn-outline-info\"),onClick:function onClick(){_this3.showAdded(i);_this3.onAddToCart(item,user);}},_this3.state.itemToShow.includes(i)?\"Saved\":\"Add\"):React.createElement(\"button\",{type:\"button\",className:\"btn p-1 w-75 \"+(_this3.state.itemToShow.includes(i)?\"btn-outline-success\":\"btn-outline-info\"),onClick:function onClick(){_this3.showAdded(i);_this3.onAddToGuestCart(item);}},_this3.state.itemToShow.includes(i)?\"Saved\":\"Add\")));})));}}]);return ProductList;}(Component);var mapStateToProps=function mapStateToProps(state){return{item:state.item,auth:state.auth};};export default connect(mapStateToProps,{deleteItem:deleteItem,addItemToCart:addItemToCart,addItem:addItem,getItems:getItems,addItemToGuestCart:addItemToGuestCart,getGuestCartItems:getGuestCartItems})(ProductList);","map":{"version":3,"sources":["/Users/katie/Desktop/Brandon projects/physio_site/client/src/components/ProductList.js"],"names":["React","Component","connect","deleteItem","addItemToCart","getItems","addItem","addItemToGuestCart","getGuestCartItems","shortid","ProductList","state","itemToShow","onDeleteItem","id","props","onAddToGuestCart","item","guestItemID","generate","String","Math","floor","random","onAddToCart","user","newItem","name","description","category","price","userRefID","_id","productImage","i","setState","setTimeout","filter","items","auth","isAuthenticated","filteredItems","length","map","includes","showAdded","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport { connect } from \"react-redux\";\nimport {\n  deleteItem,\n  addItemToCart,\n  getItems,\n  addItem,\n  addItemToGuestCart,\n  getGuestCartItems\n} from \"../actions/itemActions\";\nimport shortid from \"shortid\";\n\nclass ProductList extends Component {\n  state = {\n    itemToShow: []\n  };\n  componentDidMount() {\n    this.props.getGuestCartItems();\n  }\n  showAdded(i) {\n    this.setState({ itemToShow: [...this.state.itemToShow, i] }, () => {\n      setTimeout(() => {\n        this.setState({\n          itemToShow: this.state.itemToShow.filter(item => item !== i)\n        });\n      }, 3500);\n    });\n  }\n  onDeleteItem = id => {\n    this.props.deleteItem(id);\n  };\n  // add to guest cart localstorage\n  onAddToGuestCart = item => {\n    item.guestItemID =\n      shortid.generate() + String(Math.floor(Math.random() * 30));\n\n    this.props.addItemToGuestCart(item);\n    this.props.getGuestCartItems();\n  };\n\n  // add to logged in user cart\n  onAddToCart = (item, user) => {\n    const newItem = {\n      name: item.name,\n      description: item.description,\n      category: item.category,\n      price: item.price,\n      userRefID: user._id,\n      productImage: item.productImage\n    };\n\n    this.props.addItemToCart(newItem);\n  };\n\n  render() {\n    const { items } = this.props.item;\n    const { user } = this.props.auth;\n    const { isAuthenticated } = this.props.auth;\n    const filteredItems = items && items.filter(item => item.userRefID === \"\");\n\n    return (\n      <div>\n        <h2 className=\"mt-4 mb-2 text-center\">\n          Shop : {filteredItems.length} Products\n        </h2>\n        <h5 className=\"mx-4 my-2 float-left\">Featured </h5>\n        <div className=\"row my-4 mx-auto justify-content-center container-fluid\">\n          {filteredItems &&\n            filteredItems.map((item, i) =>\n              item.userRefID ? null : (\n                <div\n                  className=\"card card-group col-3 col-sm-3 col-md-2 col-lg-2 m-2 p-1 d-flex flex-column justify-content-between mh-100\"\n                  key={i}\n                >\n                  <img\n                    className=\"p-3 img-fluid w-100 mx-auto\"\n                    src={item.productImage}\n                    alt=\"\"\n                  />\n                  <div className=\"text-center pt-2\">\n                    <h6 className=\"mx-auto mb-2\">{item.name}</h6>\n\n                    <p className=\"mx-auto\">${item.price}</p>\n                  </div>\n                  <div className=\"text-center container mt-3 mb-4\">\n                    {isAuthenticated === true ? (\n                      <button\n                        type=\"button\"\n                        className={\n                          \"btn p-2 w-75 \" +\n                          (this.state.itemToShow.includes(i)\n                            ? \"btn-outline-success\"\n                            : \"btn-outline-info\")\n                        }\n                        onClick={() => {\n                          this.showAdded(i);\n                          this.onAddToCart(item, user);\n                        }}\n                      >\n                        {this.state.itemToShow.includes(i) ? \"Saved\" : \"Add\"}\n                      </button>\n                    ) : (\n                      <button\n                        type=\"button\"\n                        className={\n                          \"btn p-1 w-75 \" +\n                          (this.state.itemToShow.includes(i)\n                            ? \"btn-outline-success\"\n                            : \"btn-outline-info\")\n                        }\n                        onClick={() => {\n                          this.showAdded(i);\n                          this.onAddToGuestCart(item);\n                        }}\n                      >\n                        {this.state.itemToShow.includes(i) ? \"Saved\" : \"Add\"}\n                      </button>\n                    )}\n                    {/* <button onClick={() => this.onDeleteItem(item._id)}>\n                      Delete{\" \"}\n                    </button> */}\n                  </div>\n                </div>\n              )\n            )}\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  item: state.item,\n  auth: state.auth\n});\nexport default connect(mapStateToProps, {\n  deleteItem,\n  addItemToCart,\n  addItem,\n  getItems,\n  addItemToGuestCart,\n  getGuestCartItems\n})(ProductList);\n"]},"metadata":{},"sourceType":"module"}