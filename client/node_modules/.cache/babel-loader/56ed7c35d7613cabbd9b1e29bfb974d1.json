{"ast":null,"code":"var _jsxFileName = \"/Users/katie/Desktop/Brandon projects/physio_site/client/src/components/CartModal.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { deleteItem, addItemToCart, getItems, addItem } from \"../actions/itemActions\";\nimport { Modal, Button } from \"bootstrap-4-react\";\nimport { withRouter } from \"react-router-dom\";\n\nclass CartModal extends Component {\n  render() {\n    // const { items } = this.props.item;\n    // const { user } = this.props.auth;\n    // const { isAuthenticated } = this.props.auth;\n    // const existingGuestCart = JSON.parse(localStorage.getItem(\"guestCart\"));\n    // console.log(existingGuestCart);\n    // const cartFilteredItems = items.filter(\n    //   item => item.userRefID !== \"\" && item.userRefID === user._id\n    // );\n    // let cartTotal = cartFilteredItems.reduce(\n    //   (prev, current) => prev + current.price,\n    //   0\n    // );\n    // let cartTotalTax = cartTotal * 0.15;\n    // let cartTotalWithTax = cartTotal && cartTotal + cartTotalTax;\n    // // console.log(cartTotalTax);\n    // // console.log(cartTotalWithTax);\n    // const handleClick = () => {\n    //   this.props.history.push({\n    //     pathname: \"/shop/payment\",\n    //     state: cartTotalWithTax\n    //   });\n    // };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    });\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  item: state.item,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  deleteItem,\n  addItemToCart,\n  addItem,\n  getItems\n})(withRouter(CartModal));","map":{"version":3,"sources":["/Users/katie/Desktop/Brandon projects/physio_site/client/src/components/CartModal.js"],"names":["React","Component","connect","deleteItem","addItemToCart","getItems","addItem","Modal","Button","withRouter","CartModal","render","mapStateToProps","state","item","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SACEC,UADF,EAEEC,aAFF,EAGEC,QAHF,EAIEC,OAJF,QAKO,wBALP;AAMA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,mBAA9B;AAEA,SAASC,UAAT,QAA2B,kBAA3B;;AACA,MAAMC,SAAN,SAAwBT,SAAxB,CAAkC;AAChCU,EAAAA,MAAM,GAAG;AACP;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAuFD;;AAlH+B;;AAoHlC,MAAMC,eAAe,GAAGC,KAAK,KAAK;AAChCC,EAAAA,IAAI,EAAED,KAAK,CAACC,IADoB;AAEhCC,EAAAA,IAAI,EAAEF,KAAK,CAACE;AAFoB,CAAL,CAA7B;;AAIA,eAAeb,OAAO,CAACU,eAAD,EAAkB;AACtCT,EAAAA,UADsC;AAEtCC,EAAAA,aAFsC;AAGtCE,EAAAA,OAHsC;AAItCD,EAAAA;AAJsC,CAAlB,CAAP,CAKZI,UAAU,CAACC,SAAD,CALE,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  deleteItem,\n  addItemToCart,\n  getItems,\n  addItem\n} from \"../actions/itemActions\";\nimport { Modal, Button } from \"bootstrap-4-react\";\n\nimport { withRouter } from \"react-router-dom\";\nclass CartModal extends Component {\n  render() {\n    // const { items } = this.props.item;\n    // const { user } = this.props.auth;\n    // const { isAuthenticated } = this.props.auth;\n    // const existingGuestCart = JSON.parse(localStorage.getItem(\"guestCart\"));\n    // console.log(existingGuestCart);\n\n    // const cartFilteredItems = items.filter(\n    //   item => item.userRefID !== \"\" && item.userRefID === user._id\n    // );\n\n    // let cartTotal = cartFilteredItems.reduce(\n    //   (prev, current) => prev + current.price,\n    //   0\n    // );\n\n    // let cartTotalTax = cartTotal * 0.15;\n    // let cartTotalWithTax = cartTotal && cartTotal + cartTotalTax;\n    // // console.log(cartTotalTax);\n    // // console.log(cartTotalWithTax);\n    // const handleClick = () => {\n    //   this.props.history.push({\n    //     pathname: \"/shop/payment\",\n    //     state: cartTotalWithTax\n    //   });\n    // };\n    return (\n      <div>\n        {/* <Modal id=\"exampleModal\" fade>\n          <Modal.Dialog centered className=\"m-auto\">\n            <Modal.Content>\n              <Modal.Header className=\"p-3\">\n                <Modal.Title\n                  style={{ textTransform: \"capitalize\" }}\n                  className=\"float-left w-25 font-wieght-bolder\"\n                >\n                  {isAuthenticated ? `${user.name}'s Cart` : \"Guest Cart\"}\n                </Modal.Title>\n                <Modal.Close className=\"float-right w-25\">\n                  <span aria-hidden=\"true\" className=\"float-right\">\n                    &times;\n                  </span>\n                </Modal.Close>\n              </Modal.Header>\n\n              <div className=\"p-3 w-75 mx-auto\">\n                <h2>Items</h2>\n                <h4>Qty in cart: {cartFilteredItems.length}</h4>\n                {items &&\n                  items.map((item, i) =>\n                    item.userRefID === user._id ? (\n                      <div className=\"card p-4\" key={i}>\n                        <h5>Name: {item.name}</h5>\n                        <p>Description: {item.description}</p>\n                        <p>Category: {item.category}</p>\n                        <p>Price: ${item.price}</p>\n\n                        <div className=\"image-container mx-auto\">\n                          <img\n                            className=\"img-fluid img-thumbnail center-block\"\n                            src={item.productImage}\n                            alt=\"\"\n                          />\n                        </div>\n\n                        <div className=\"row d-flex justify-content-center align-content-end pt-5 h-25\">\n                          <button\n                            className=\"btn btn-primary w-50 p-2\"\n                            onClick={() => this.onDeleteItem(item._id)}\n                          >\n                            Remove\n                          </button>\n\n                          <div className=\"m-3\"></div>\n                        </div>\n                      </div>\n                    ) : null\n                  )}\n              </div>\n\n              <Modal.Footer className=\"border-dark row px-5 py-3 \">\n                <h5>Cart Total: {cartTotal.toFixed(2)}</h5>\n                <h5>Shipping & Handling: FREE</h5>\n                <h5>Tax: {cartTotalTax.toFixed(2)}</h5>\n                <h3 className=\"font-weight-bolder border-top\">\n                  Order total ({cartFilteredItems.length} item): $\n                  {cartTotalWithTax.toFixed(2)}\n                </h3>\n                <Button\n                  className=\"col-12 my-1 w-25 p-2\"\n                  secondary\n                  data-dismiss=\"modal\"\n                >\n                  Close cart\n                </Button>\n                <Button\n                  data-dismiss=\"modal\"\n                  className=\"btn btn-primary btn-danger col-12 my-1 w-25 p-2\"\n                  // to={{\n                  //   pathname: \"/shop/payment\",\n                  //   state: cartTotalWithTax\n                  // }}\n                  // replace\n                  onClick={() => handleClick(cartTotalWithTax)}\n                >\n                  CHECKOUT\n                </Button>\n              </Modal.Footer>\n            </Modal.Content>\n          </Modal.Dialog>\n        </Modal> */}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  item: state.item,\n  auth: state.auth\n});\nexport default connect(mapStateToProps, {\n  deleteItem,\n  addItemToCart,\n  addItem,\n  getItems\n})(withRouter(CartModal));\n"]},"metadata":{},"sourceType":"module"}