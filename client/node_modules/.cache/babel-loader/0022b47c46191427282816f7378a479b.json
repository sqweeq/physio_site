{"ast":null,"code":"var _jsxFileName = \"/Users/katie/Desktop/Brandon projects/physio_site/client/src/components/CartModal.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { deleteItem, addItemToCart, getItems, addItem } from \"../actions/itemActions\";\nimport { Modal, Button } from \"bootstrap-4-react\";\nimport { Link } from \"react-router-dom\";\n\nclass CartModal extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onDeleteItem = id => {\n      this.props.deleteItem(id);\n      console.log(id);\n    };\n\n    this.redirectToPay = e => {\n      this.history.push(\"/payment\");\n    };\n  }\n\n  render() {\n    const items = this.props.item.items;\n    const user = this.props.auth.user; // const filteredItems = items.filter(item => item.userRefID === \"\");\n\n    const cartFilteredItems = items.filter(item => item.userRefID !== \"\" && item.userRefID === user._id);\n    let cartTotal = cartFilteredItems.reduce((prev, current) => prev + current.price, 0);\n    let cartTotalTax = cartTotal * 0.15;\n    let cartTotalWithTax = cartTotal && cartTotal + cartTotalTax;\n    console.log(cartTotalTax);\n    console.log(cartTotalWithTax);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      id: \"exampleModal\",\n      fade: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(Modal.Dialog, {\n      centered: true,\n      className: \"m-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(Modal.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      className: \"p-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      className: \"float-left w-25 font-wieght-bolder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"My Cart\"), React.createElement(Modal.Close, {\n      className: \"float-right w-25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      className: \"float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      className: \"p-3 w-75 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Items\"), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Qty in cart: \", cartFilteredItems.length), items && items.map((item, i) => item.userRefID === user._id ? React.createElement(\"div\", {\n      className: \"card p-4\",\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Name: \", item.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Description: \", item.description), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Category: \", item.category), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Price: $\", item.price), React.createElement(\"div\", {\n      className: \"image-container mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid img-thumbnail center-block\",\n      src: item.productImage,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row d-flex justify-content-center align-content-end pt-5 h-25\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary w-50 p-2\",\n      onClick: () => this.onDeleteItem(item._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Remove\"), React.createElement(\"div\", {\n      className: \"m-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }))) : null)), React.createElement(Modal.Footer, {\n      className: \"border-dark row px-5 py-3 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Cart Total: \", cartTotal.toFixed(2)), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Shipping & Handling: FREE\"), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Tax: \", cartTotalTax.toFixed(2)), React.createElement(\"h3\", {\n      className: \"font-weight-bolder border-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Order total (\", cartFilteredItems.length, \" item): $\", cartTotalWithTax.toFixed(2)), React.createElement(Button, {\n      className: \"col-12 my-1 w-25 p-2\",\n      secondary: true,\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Close cart\"), React.createElement(\"div\", {\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"btn btn-primary btn-danger col-12 my-1 w-25 p-2\",\n      to: {\n        pathname: \"/shop/payment\",\n        state: [cartTotalWithTax]\n      },\n      onClick: this.redirectToPay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"CHECKOUT\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  item: state.item,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  deleteItem,\n  addItemToCart,\n  addItem,\n  getItems\n})(CartModal);","map":{"version":3,"sources":["/Users/katie/Desktop/Brandon projects/physio_site/client/src/components/CartModal.js"],"names":["React","Component","connect","deleteItem","addItemToCart","getItems","addItem","Modal","Button","Link","CartModal","onDeleteItem","id","props","console","log","redirectToPay","e","history","push","render","items","item","user","auth","cartFilteredItems","filter","userRefID","_id","cartTotal","reduce","prev","current","price","cartTotalTax","cartTotalWithTax","length","map","i","name","description","category","productImage","toFixed","pathname","state","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  deleteItem,\n  addItemToCart,\n  getItems,\n  addItem\n} from \"../actions/itemActions\";\nimport { Modal, Button } from \"bootstrap-4-react\";\nimport { Link } from \"react-router-dom\";\nclass CartModal extends Component {\n  onDeleteItem = id => {\n    this.props.deleteItem(id);\n    console.log(id);\n  };\n  redirectToPay = e => {\n    this.history.push(\"/payment\");\n  };\n  render() {\n    const { items } = this.props.item;\n    const { user } = this.props.auth;\n\n    // const filteredItems = items.filter(item => item.userRefID === \"\");\n    const cartFilteredItems = items.filter(\n      item => item.userRefID !== \"\" && item.userRefID === user._id\n    );\n\n    let cartTotal = cartFilteredItems.reduce(\n      (prev, current) => prev + current.price,\n      0\n    );\n    let cartTotalTax = cartTotal * 0.15;\n    let cartTotalWithTax = cartTotal && cartTotal + cartTotalTax;\n    console.log(cartTotalTax);\n    console.log(cartTotalWithTax);\n    return (\n      <div>\n        <Modal id=\"exampleModal\" fade>\n          <Modal.Dialog centered className=\"m-auto\">\n            <Modal.Content>\n              <Modal.Header className=\"p-3\">\n                <Modal.Title className=\"float-left w-25 font-wieght-bolder\">\n                  My Cart\n                </Modal.Title>\n                <Modal.Close className=\"float-right w-25\">\n                  <span aria-hidden=\"true\" className=\"float-right\">\n                    &times;\n                  </span>\n                </Modal.Close>\n              </Modal.Header>\n\n              <div className=\"p-3 w-75 mx-auto\">\n                <h2>Items</h2>\n                <h4>Qty in cart: {cartFilteredItems.length}</h4>\n                {items &&\n                  items.map((item, i) =>\n                    item.userRefID === user._id ? (\n                      <div className=\"card p-4\" key={i}>\n                        <h5>Name: {item.name}</h5>\n                        <p>Description: {item.description}</p>\n                        <p>Category: {item.category}</p>\n                        <p>Price: ${item.price}</p>\n\n                        <div className=\"image-container mx-auto\">\n                          <img\n                            className=\"img-fluid img-thumbnail center-block\"\n                            src={item.productImage}\n                            alt=\"\"\n                          />\n                        </div>\n\n                        <div className=\"row d-flex justify-content-center align-content-end pt-5 h-25\">\n                          <button\n                            className=\"btn btn-primary w-50 p-2\"\n                            onClick={() => this.onDeleteItem(item._id)}\n                          >\n                            Remove\n                          </button>\n\n                          <div className=\"m-3\"></div>\n                        </div>\n                      </div>\n                    ) : null\n                  )}\n              </div>\n\n              <Modal.Footer className=\"border-dark row px-5 py-3 \">\n                <h5>Cart Total: {cartTotal.toFixed(2)}</h5>\n                <h5>Shipping & Handling: FREE</h5>\n                <h5>Tax: {cartTotalTax.toFixed(2)}</h5>\n                <h3 className=\"font-weight-bolder border-top\">\n                  Order total ({cartFilteredItems.length} item): $\n                  {cartTotalWithTax.toFixed(2)}\n                </h3>\n                <Button\n                  className=\"col-12 my-1 w-25 p-2\"\n                  secondary\n                  data-dismiss=\"modal\"\n                >\n                  Close cart\n                </Button>\n                <div data-dismiss=\"modal\">\n                  <Link\n                    className=\"btn btn-primary btn-danger col-12 my-1 w-25 p-2\"\n                    to={{\n                      pathname: \"/shop/payment\",\n                      state: [cartTotalWithTax]\n                    }}\n                    onClick={this.redirectToPay}\n                  >\n                    CHECKOUT\n                  </Link>\n                </div>\n              </Modal.Footer>\n            </Modal.Content>\n          </Modal.Dialog>\n        </Modal>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  item: state.item,\n  auth: state.auth\n});\nexport default connect(mapStateToProps, {\n  deleteItem,\n  addItemToCart,\n  addItem,\n  getItems\n})(CartModal);\n"]},"metadata":{},"sourceType":"module"}