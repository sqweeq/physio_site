{"ast":null,"code":"import _defineProperty from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/katie/Desktop/Brandon projects/physio_site/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{register}from\"../actions/authActions\";import Navigation from\"./Navigation\";import{Link,withRouter}from\"react-router-dom\";var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);function Register(){var _getPrototypeOf2;var _this;_classCallCheck(this,Register);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Register)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={name:\"\",email:\"\",password:\"\",msg:null};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,name=_this$state.name,email=_this$state.email,password=_this$state.password;var newUser={name:name,email:email,password:password};_this.props.register(newUser,_this.props.history);console.log(newUser);};return _this;}_createClass(Register,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var error=this.props.error;if(error!==prevProps.error){if(error&&error.id===\"REGISTER_FAIL\"){this.setState({msg:error.msg.msg});}else{this.setState({msg:null});}}}},{key:\"validateEmail\",value:function validateEmail(email){var regexp=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return regexp.test(email);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"overflow-hidden\"},React.createElement(\"div\",{className:\"mb-5\"},React.createElement(Navigation,null)),React.createElement(Link,{className:\"h-25 m-5 pt-5\",to:\"/shop\"},\"\\u2190 Return to shop\"),React.createElement(\"form\",{noValidate:true,onSubmit:this.handleSubmit},React.createElement(\"h1\",{className:\"text-center pt-5 pb-3\"},\"Register\"),React.createElement(\"div\",{className:\"pb-5 pt-3 px-5 mx-auto\"},React.createElement(\"div\",{className:\"form-group pb-2 px-2\"},React.createElement(\"label\",{className:\"pb-1\",htmlFor:\"exampleInputName\"},\"Name\"),React.createElement(\"input\",{name:\"name\",type:\"text\",className:\"form-control pl-2 \"+(this.state.name.length&&this.state.name.length>=6&&\"is-valid\"/*: \"is-invalid\"*/),placeholder:\"Enter name\",onChange:this.handleChange})),React.createElement(\"div\",{className:\"form-group p-2\"},React.createElement(\"label\",{className:\"pb-1\",htmlFor:\"exampleInputEmail\"},\"Email Address\"),React.createElement(\"input\",{name:\"email\",type:\"email\",className:\"form-control pl-2 \"+(this.validateEmail(this.state.email)===true&&\"is-valid\"/*: \"is-invalid\"*/),placeholder:\"Enter email\",onChange:this.handleChange})),React.createElement(\"div\",{className:\"form-group p-2 mb-3\"},React.createElement(\"label\",{className:\"pb-1\",htmlFor:\"exampleInputPassword\"},\"Password\"),React.createElement(\"input\",{name:\"password\",type:\"password\",className:\"form-control pl-2 \"+(this.state.password.length&&this.state.password.length>=6&&\"is-valid\"/*: \"is-invalid\"*/),placeholder:\"Enter password\",onChange:this.handleChange})),this.state.msg?React.createElement(\"span\",{className:\"pl-2 text-danger text-center\"},this.state.msg):null,React.createElement(\"div\",{className:\"p-2 py-4\"},React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary p-3\"},\"Submit\")),React.createElement(\"footer\",{className:\"py-5\"},React.createElement(Link,{to:\"/login\",className:\"p-2\"},\"Already a user?\")))));}}]);return Register;}(Component);var mapStateToProps=function mapStateToProps(state){return{error:state.error};};export default connect(mapStateToProps,{register:register})(withRouter(Register));","map":{"version":3,"sources":["/Users/katie/Desktop/Brandon projects/physio_site/client/src/components/Register.js"],"names":["React","Component","connect","register","Navigation","Link","withRouter","Register","state","name","email","password","msg","handleChange","e","setState","target","value","handleSubmit","preventDefault","newUser","props","history","console","log","prevProps","error","id","regexp","test","length","validateEmail","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { register } from \"../actions/authActions\";\nimport PropTypes from \"prop-types\";\nimport Navigation from \"./Navigation\";\nimport { Link, withRouter } from \"react-router-dom\";\nclass Register extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    msg: null\n  };\n  static propTypes = {\n    error: PropTypes.object,\n    register: PropTypes.func.isRequired\n  };\n  componentDidUpdate(prevProps) {\n    const { error } = this.props;\n    if (error !== prevProps.error) {\n      if (error && error.id === \"REGISTER_FAIL\") {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n  }\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const { name, email, password } = this.state;\n    const newUser = {\n      name,\n      email,\n      password\n    };\n    this.props.register(newUser, this.props.history);\n\n    console.log(newUser);\n  };\n\n  validateEmail(email) {\n    const regexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return regexp.test(email);\n  }\n\n  render() {\n    return (\n      <div className=\"overflow-hidden\">\n        <div className=\"mb-5\">\n          <Navigation />\n        </div>\n        <Link className=\"h-25 m-5 pt-5\" to=\"/shop\">\n          &#x2190; Return to shop\n        </Link>\n        <form noValidate onSubmit={this.handleSubmit}>\n          <h1 className=\"text-center pt-5 pb-3\">Register</h1>\n\n          <div className=\"pb-5 pt-3 px-5 mx-auto\">\n            <div className=\"form-group pb-2 px-2\">\n              <label className=\"pb-1\" htmlFor=\"exampleInputName\">\n                Name\n              </label>\n              <input\n                name=\"name\"\n                type=\"text\"\n                className={\n                  \"form-control pl-2 \" +\n                  (this.state.name.length &&\n                    this.state.name.length >= 6 &&\n                    \"is-valid\" /*: \"is-invalid\"*/)\n                }\n                placeholder=\"Enter name\"\n                onChange={this.handleChange}\n              />\n              {/* <div className=\"invalid-feedback pt-1\">\n                Name must be longer than 6 characters\n              </div> */}\n            </div>\n            <div className=\"form-group p-2\">\n              <label className=\"pb-1\" htmlFor=\"exampleInputEmail\">\n                Email Address\n              </label>\n              <input\n                name=\"email\"\n                type=\"email\"\n                className={\n                  \"form-control pl-2 \" +\n                  (this.validateEmail(this.state.email) === true &&\n                    \"is-valid\" /*: \"is-invalid\"*/)\n                }\n                placeholder=\"Enter email\"\n                onChange={this.handleChange}\n              />\n              {/* <div className=\"invalid-feedback pt-1\">Email must be valid</div> */}\n            </div>\n            <div className=\"form-group p-2 mb-3\">\n              <label className=\"pb-1\" htmlFor=\"exampleInputPassword\">\n                Password\n              </label>\n              <input\n                name=\"password\"\n                type=\"password\"\n                className={\n                  \"form-control pl-2 \" +\n                  (this.state.password.length &&\n                    this.state.password.length >= 6 &&\n                    \"is-valid\" /*: \"is-invalid\"*/)\n                }\n                placeholder=\"Enter password\"\n                onChange={this.handleChange}\n              />\n              {/* <div className=\"invalid-feedback pt-1\">\n                Password must be longer than 6 characters\n              </div> */}\n            </div>\n            {this.state.msg ? (\n              <span className=\"pl-2 text-danger text-center\">\n                {this.state.msg}\n              </span>\n            ) : null}\n\n            <div className=\"p-2 py-4\">\n              <button type=\"submit\" className=\"btn btn-primary p-3\">\n                Submit\n              </button>\n            </div>\n            <footer className=\"py-5\">\n              <Link to=\"/login\" className=\"p-2\">\n                Already a user?\n              </Link>\n            </footer>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  error: state.error\n});\n\nexport default connect(mapStateToProps, { register })(withRouter(Register));\n"]},"metadata":{},"sourceType":"module"}